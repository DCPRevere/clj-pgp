<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>mvxcvi.crypto.pgp documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-pgp 0.6.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mvxcvi</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>crypto</span></div></div></li><li class="depth-3 current"><a href="mvxcvi.crypto.pgp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pgp</span></div></a></li><li class="depth-4 branch"><a href="mvxcvi.crypto.pgp.tags.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tags</span></div></a></li><li class="depth-4"><a href="mvxcvi.crypto.pgp.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-decode"><div class="inner"><span>decode</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-decode-public-key"><div class="inner"><span>decode-public-key</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-decode-signature"><div class="inner"><span>decode-signature</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-decrypt"><div class="inner"><span>decrypt</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-decrypt-stream"><div class="inner"><span>decrypt-stream</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-encode"><div class="inner"><span>encode</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-encode-ascii"><div class="inner"><span>encode-ascii</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-encrypt"><div class="inner"><span>encrypt</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-encrypt-stream"><div class="inner"><span>encrypt-stream</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-key-algorithm"><div class="inner"><span>key-algorithm</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-key-id"><div class="inner"><span>key-id</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-key-info"><div class="inner"><span>key-info</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-load-public-keyring"><div class="inner"><span>load-public-keyring</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-load-secret-keyring"><div class="inner"><span>load-secret-keyring</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-public-key"><div class="inner"><span>public-key</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-secret-key"><div class="inner"><span>secret-key</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-sign"><div class="inner"><span>sign</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-unlock-key"><div class="inner"><span>unlock-key</span></div></a></li><li class="depth-1"><a href="mvxcvi.crypto.pgp.html#var-verify"><div class="inner"><span>verify</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">mvxcvi.crypto.pgp</h2><div class="doc"><div class="markdown"><p>Functions for interacting with BouncyCastle&rsquo;s OpenPGP library.</p></div></div><div class="public anchor" id="var-decode"><h3>decode</h3><div class="usage"><code>(decode source)</code></div><div class="doc"><div class="markdown"><p>Decodes PGP objects from an encoded data source. Returns a sequence of PGP objects.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/codec.clj#L61">view source</a></div></div><div class="public anchor" id="var-decode-public-key"><h3>decode-public-key</h3><div class="usage"><code>(decode-public-key source)</code></div><div class="doc"><div class="markdown"><p>Decodes a public key from the given data.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/codec.clj#L73">view source</a></div></div><div class="public anchor" id="var-decode-signature"><h3>decode-signature</h3><div class="usage"><code>(decode-signature source)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/codec.clj#L79">view source</a></div></div><div class="public anchor" id="var-decrypt"><h3>decrypt</h3><div class="usage"><code>(decrypt data get-privkey)</code></div><div class="doc"><div class="markdown"><p>Decrypts the given data source and returns an array of bytes with the decrypted value.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/data.clj#L181">view source</a></div></div><div class="public anchor" id="var-decrypt-stream"><h3>decrypt-stream</h3><div class="usage"><code>(decrypt-stream input get-privkey)</code></div><div class="doc"><div class="markdown"><p>Wraps the given input stream with decryption layers. The get-privkey function should accept a key-id and return the corresponding unlocked private key, or nil if such a key is not available.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/data.clj#L155">view source</a></div></div><div class="public anchor" id="var-encode"><h3>encode</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Encodes a PGP object into a byte sequence.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/codec.clj#L36">view source</a></div></div><div class="public anchor" id="var-encode-ascii"><h3>encode-ascii</h3><div class="usage"><code>(encode-ascii data)</code></div><div class="doc"><div class="markdown"><p>Encodes a PGP object into an ascii-armored text blob.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/codec.clj#L49">view source</a></div></div><div class="public anchor" id="var-encrypt"><h3>encrypt</h3><div class="usage"><code>(encrypt data pubkey)</code><code>(encrypt data pubkey opt-key opt-val &amp; opts)</code><code>(encrypt data pubkey opts)</code></div><div class="doc"><div class="markdown"><p>Encrypts the given data source and returns an array of bytes with the encrypted value. Opts are as in encrypt-stream.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/data.clj#L112">view source</a></div></div><div class="public anchor" id="var-encrypt-stream"><h3>encrypt-stream</h3><div class="usage"><code>(encrypt-stream output pubkey opts)</code></div><div class="doc"><div class="markdown"><p>Wraps the given output stream with encryption layers. The data will be encrypted with a symmetric algorithm, whose key will be encrypted by the given PGP public key.</p><p>Opts may contain: - :algorithm symmetric key algorithm to use - :compress if specified, compress the cleartext with the given algorithm - :armor whether to ascii-encode the output - :filename optional name to give to the literal data packet</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/data.clj#L69">view source</a></div></div><div class="public anchor" id="var-key-algorithm"><h3>key-algorithm</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns a keyword identifying the PGP key algorithm used by the given value.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/key.clj#L110">view source</a></div></div><div class="public anchor" id="var-key-id"><h3>key-id</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the numeric PGP key identifier for the given value.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/key.clj#L74">view source</a></div></div><div class="public anchor" id="var-key-info"><h3>key-info</h3><div class="usage"><code>(key-info k)</code></div><div class="doc"><div class="markdown"><p>Returns a map of information about the given key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/key.clj#L148">view source</a></div></div><div class="public anchor" id="var-load-public-keyring"><h3>load-public-keyring</h3><div class="usage"><code>(load-public-keyring source)</code></div><div class="doc"><div class="markdown"><p>Loads a public keyring collection from a file.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/keyring.clj#L78">view source</a></div></div><div class="public anchor" id="var-load-secret-keyring"><h3>load-secret-keyring</h3><div class="usage"><code>(load-secret-keyring source)</code></div><div class="doc"><div class="markdown"><p>Loads a secret keyring collection from a file.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/keyring.clj#L86">view source</a></div></div><div class="public anchor" id="var-public-key"><h3>public-key</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Determines the public PGP key associated with the argument.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/key.clj#L26">view source</a></div></div><div class="public anchor" id="var-secret-key"><h3>secret-key</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Determines the secret PGP key associated with the argument.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/key.clj#L54">view source</a></div></div><div class="public anchor" id="var-sign"><h3>sign</h3><div class="usage"><code>(sign data hash-algo privkey)</code></div><div class="doc"><div class="markdown"><p>Generates a PGP signature from the given data and private key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/signature.clj#L19">view source</a></div></div><div class="public anchor" id="var-unlock-key"><h3>unlock-key</h3><div class="usage"><code>(unlock-key seckey passphrase)</code></div><div class="doc"><div class="markdown"><p>Decodes a secret key with a passphrase to obtain the private key.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/key.clj#L138">view source</a></div></div><div class="public anchor" id="var-verify"><h3>verify</h3><div class="usage"><code>(verify data signature pubkey)</code></div><div class="doc"><div class="markdown"><p>Verifies a PGP signature. Returns true if the signature is correct.</p></div></div><div class="src-link"><a href="https://github.com/greglook/clj-pgp/blob/master/src/mvxcvi/crypto/pgp/signature.clj#L33">view source</a></div></div></div></body></html>